{% extends "base.html" %}
{% set title = "Contact | Gilles Lortet" %}
{% set page_class = "page-contact" %}
{% set description = "Demander un échange avec Gilles Lortet pour clarifier vos besoins PCM ou Circuit Vital." %}

{% block content %}
<section class="page-hero">
    <div class="container">
        <p class="eyebrow section-kicker">Contact</p>
        <h1>Demander un échange</h1>
        <div class="flow measure">
            <p class="lead">Un premier échange de 30 minutes suffit à clarifier votre contexte et le format le plus adapté.</p>
        </div>
    </div>
</section>

<section class="section section-divider">
    <div class="container contact-grid">
        <div class="card reveal">
            <h2>Demander un échange</h2>
            <p>Précisez votre besoin, je reviens vers vous pour convenir d'un créneau adapté.</p>
            <form class="contact-form" action="{{ url_for('contact_api') }}" method="post" data-contact-form novalidate>
                <p class="form-intro">Dites-nous en quelques lignes votre contexte pour préparer un échange utile.</p>
                <div class="form-grid">
                    <div class="field">
                        <label for="full_name">Nom et prénom *</label>
                        <input id="full_name" name="full_name" type="text" autocomplete="name" required>
                    </div>
                    <div class="field">
                        <label for="email">Email *</label>
                        <input id="email" name="email" type="email" autocomplete="email" required>
                    </div>
                </div>
                <div class="form-grid">
                    <div class="field">
                        <label for="phone">Téléphone</label>
                        <input id="phone" name="phone" type="tel" autocomplete="tel">
                    </div>
                    <div class="field">
                        <label for="organization">Organisation</label>
                        <input id="organization" name="organization" type="text" autocomplete="organization">
                    </div>
                    <div class="field">
                        <label for="role">Rôle</label>
                        <select id="role" name="role">
                            <option value="">Sélectionner</option>
                            <option value="Dirigeant">Dirigeant</option>
                            <option value="RH">RH</option>
                            <option value="HSE">HSE</option>
                            <option value="Manager">Manager</option>
                            <option value="Autre">Autre</option>
                        </select>
                    </div>
                </div>
                <div class="field">
                    <label for="subject">Sujet *</label>
                    <input id="subject" name="subject" type="text" required>
                </div>
                <div class="field">
                    <label for="message">Message *</label>
                    <textarea id="message" name="message" rows="5" minlength="50" maxlength="4000" required></textarea>
                    <p class="field-help">Minimum 50 caractères. Exemple : tension d’équipe, décision sensible, prévention TMS.</p>
                </div>
                <div class="field field-consent">
                    <label class="checkbox">
                        <input id="consent" name="consent" type="checkbox" required>
                        <span>J'accepte que mes données soient utilisées pour être recontacté.</span>
                    </label>
                </div>
                <div class="field field-hidden" aria-hidden="true">
                    <label for="website">Website</label>
                    <input id="website" name="website" type="text" tabindex="-1" autocomplete="off">
                </div>
                <input type="hidden" name="source" value="{{ request.path }}">
                <div class="form-actions">
                    <button class="button" type="submit">Envoyer la demande</button>
                    <p class="form-note">Réponse sous 48h ouvrées. Données utilisées uniquement pour répondre.</p>
                    <p class="contact-inline">Ou écrire directement : <a href="mailto:contact@gilleslortet.fr">contact@gilleslortet.fr</a></p>
                    <p class="form-status" role="status" aria-live="polite"></p>
                </div>
            </form>
        </div>
        <div class="card reveal">
            <h2>Informations utiles à fournir</h2>
            <ul>
                <li>Votre rôle et le périmètre concerné.</li>
                <li>Le contexte (tension, décision, prévention, etc.).</li>
                <li>Le type de population visée (CODIR, managers, terrain).</li>
                <li>Le format envisagé (atelier, diagnostic, parcours).</li>
                <li>Le calendrier souhaité.</li>
            </ul>
        </div>
        <div class="card reveal">
            <h2>Ce que vous pouvez attendre</h2>
            <ul>
                <li>Un cadre clair et des échanges simples.</li>
                <li>Des propositions concrètes, adaptées au terrain.</li>
                <li>Une réponse honnête sur ce qui est pertinent ou non.</li>
            </ul>
        </div>
    </div>
</section>

<section class="section section-soft section-divider">
    <div class="container callout reveal">
        <div>
            <p class="eyebrow section-kicker">Disponibilité</p>
            <h2>Basé en France, interventions nationales</h2>
            <p>Possibilité d'interventions sur site ou en distanciel selon vos contraintes.</p>
        </div>
        <a class="button" href="mailto:contact@gilleslortet.fr">Écrire un email</a>
    </div>
</section>
{% endblock %}
